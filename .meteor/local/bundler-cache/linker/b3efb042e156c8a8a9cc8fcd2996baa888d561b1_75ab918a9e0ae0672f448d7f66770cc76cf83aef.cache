[{"type":"js","data":"//////////////////////////////////////////////////////////////////////////\n//                                                                      //\n// This is a generated file. You can view the original                  //\n// source in your browser if your browser supports source maps.         //\n// Source maps are supported by all recent versions of Chrome, Safari,  //\n// and Firefox, and by Internet Explorer 11.                            //\n//                                                                      //\n//////////////////////////////////////////////////////////////////////////\n\n\n(function () {\n\n/* Imports */\nvar Meteor = Package.meteor.Meteor;\nvar global = Package.meteor.global;\nvar meteorEnv = Package.meteor.meteorEnv;\nvar meteorInstall = Package.modules.meteorInstall;\nvar meteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;\nvar Promise = Package.promise.Promise;\n\nvar require = meteorInstall({\"node_modules\":{\"meteor\":{\"socialize:server-time\":{\"client\":{\"server-time.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                             //\n// packages/socialize_server-time/client/server-time.js                                        //\n//                                                                                             //\n/////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                               //\nmodule.export({\n  ServerTime: () => ServerTime\n});\nlet Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 0);\nlet ServerTime;\nmodule.link(\"../common/server-time\", {\n  ServerTime(v) {\n    ServerTime = v;\n  }\n\n}, 1);\n\nServerTime.init = () => {\n  ServerTime._diffStart = Date.now();\n  Meteor.call('socialize:getServerTime', (error, serverTimeStamp) => {\n    if (!error) {\n      const now = Date.now();\n      const latency = now - ServerTime._diffStart;\n      ServerTime._timeDifference = serverTimeStamp + latency - now;\n    } else {\n      throw error;\n    }\n  });\n}; // At startup, wait a couple seconds so that we can get a more accurate latency estimation.\n// This is far from optimal but should work.\n\n\nMeteor.startup(() => {\n  Meteor.setTimeout(() => {\n    ServerTime.init();\n  }, 2000);\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"common\":{\"server-time.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                             //\n// packages/socialize_server-time/common/server-time.js                                        //\n//                                                                                             //\n/////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                               //\nmodule.export({\n  ServerTime: () => ServerTime\n});\nconst ServerTime = {\n  _timeDifference: 0\n};\n\nServerTime.now = function now() {\n  return Date.now() + this._timeDifference;\n};\n\nServerTime.date = function date() {\n  return new Date(this.now());\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}}}}},{\n  \"extensions\": [\n    \".js\",\n    \".json\"\n  ]\n});\n\nvar exports = require(\"/node_modules/meteor/socialize:server-time/client/server-time.js\");\n\n/* Exports */\nPackage._define(\"socialize:server-time\", exports);\n\n})();\n","servePath":"/packages/socialize_server-time.js","sourceMap":{"version":3,"sources":["packages/socialize:server-time/client/server-time.js","packages/socialize:server-time/common/server-time.js"],"names":["module","export","ServerTime","Meteor","link","v","init","_diffStart","Date","now","call","error","serverTimeStamp","latency","_timeDifference","startup","setTimeout","date"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAAA,MAAM,CAACC,MAAP,CAAc;AAACC,YAAU,EAAC,MAAIA;AAAhB,CAAd;AAA2C,IAAIC,MAAJ;AAAWH,MAAM,CAACI,IAAP,CAAY,eAAZ,EAA4B;AAACD,QAAM,CAACE,CAAD,EAAG;AAACF,UAAM,GAACE,CAAP;AAAS;;AAApB,CAA5B,EAAkD,CAAlD;AAAqD,IAAIH,UAAJ;AAAeF,MAAM,CAACI,IAAP,CAAY,uBAAZ,EAAoC;AAACF,YAAU,CAACG,CAAD,EAAG;AAACH,cAAU,GAACG,CAAX;AAAa;;AAA5B,CAApC,EAAkE,CAAlE;;AAO1HH,UAAU,CAACI,IAAX,GAAkB,MAAM;AACpBJ,YAAU,CAACK,UAAX,GAAwBC,IAAI,CAACC,GAAL,EAAxB;AAEAN,QAAM,CAACO,IAAP,CAAY,yBAAZ,EAAuC,CAACC,KAAD,EAAQC,eAAR,KAA4B;AAC/D,QAAI,CAACD,KAAL,EAAY;AACR,YAAMF,GAAG,GAAGD,IAAI,CAACC,GAAL,EAAZ;AACA,YAAMI,OAAO,GAAGJ,GAAG,GAAGP,UAAU,CAACK,UAAjC;AAEAL,gBAAU,CAACY,eAAX,GAA8BF,eAAe,GAAGC,OAAnB,GAA8BJ,GAA3D;AACH,KALD,MAKO;AACH,YAAOE,KAAP;AACH;AACJ,GATD;AAUH,CAbD,C,CAeA;AACA;;;AACAR,MAAM,CAACY,OAAP,CAAe,MAAM;AACjBZ,QAAM,CAACa,UAAP,CAAkB,MAAM;AACpBd,cAAU,CAACI,IAAX;AACH,GAFD,EAEG,IAFH;AAGH,CAJD,E;;;;;;;;;;;ACxBAN,MAAM,CAACC,MAAP,CAAc;AAACC,YAAU,EAAC,MAAIA;AAAhB,CAAd;AAAO,MAAMA,UAAU,GAAG;AACtBY,iBAAe,EAAE;AADK,CAAnB;;AAIPZ,UAAU,CAACO,GAAX,GAAiB,SAASA,GAAT,GAAe;AAAE,SAAOD,IAAI,CAACC,GAAL,KAAa,KAAKK,eAAzB;AAA2C,CAA7E;;AAEAZ,UAAU,CAACe,IAAX,GAAkB,SAASA,IAAT,GAAgB;AAAE,SAAO,IAAIT,IAAJ,CAAS,KAAKC,GAAL,EAAT,CAAP;AAA8B,CAAlE,C","file":"/packages/socialize_server-time.js","sourcesContent":["/* eslint-disable import/no-unresolved */\nimport { Meteor } from 'meteor/meteor';\n\n/* eslint-enable import/no-unresolved */\n\nimport { ServerTime } from '../common/server-time';\n\nServerTime.init = () => {\n    ServerTime._diffStart = Date.now();\n\n    Meteor.call('socialize:getServerTime', (error, serverTimeStamp) => {\n        if (!error) {\n            const now = Date.now();\n            const latency = now - ServerTime._diffStart;\n\n            ServerTime._timeDifference = (serverTimeStamp + latency) - now;\n        } else {\n            throw (error);\n        }\n    });\n};\n\n// At startup, wait a couple seconds so that we can get a more accurate latency estimation.\n// This is far from optimal but should work.\nMeteor.startup(() => {\n    Meteor.setTimeout(() => {\n        ServerTime.init();\n    }, 2000);\n});\n\nexport { ServerTime };\n","export const ServerTime = {\n    _timeDifference: 0,\n};\n\nServerTime.now = function now() { return Date.now() + this._timeDifference; };\n\nServerTime.date = function date() { return new Date(this.now()); };\n"]}}]