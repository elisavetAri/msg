{"metadata":{},"options":{"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"C:\\Sandbox\\test\\packages\\znewsham:dynamic-table\\client\\ui\\components\\manageFieldsModal\\manageFieldsModal.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","dynamicImport","classProperties","classPrivateProperties","jsx",["flow",{}],"asyncGenerators","objectRestSpread","objectRestSpread",["flow",{}],"asyncGenerators"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"packages/znewsham:dynamic-table/client/ui/components/manageFieldsModal/manageFieldsModal.js","filename":"C:\\Sandbox\\test\\packages\\znewsham:dynamic-table\\client\\ui\\components\\manageFieldsModal\\manageFieldsModal.js","passPerPreset":false,"envName":"development","cwd":"C:\\Sandbox\\test","root":"C:\\Sandbox\\test","plugins":[{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"transform-runtime","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"_exploded":true,"_verified":true,"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"transform-modules-commonjs","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-flow","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-flow-strip-types","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"C:\\Sandbox\\test\\packages\\znewsham:dynamic-table\\client\\ui\\components\\manageFieldsModal\\manageFieldsModal.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"packages/znewsham:dynamic-table/client/ui/components/manageFieldsModal/manageFieldsModal.js"}},"code":"module.link(\"./manageFieldsModal.css\");\nmodule.link(\"./manageFieldsModal.html\");\nmodule.link(\"../manageColumnsForm/manageColumnsForm.js\");\nTemplate.dynamicTableManageFieldsModal.onCreated(function onCreated() {\n  this.search = new ReactiveVar();\n  this.editing = new ReactiveVar(false);\n  this.editableField = new ReactiveVar(null);\n  this.availableColumns = new ReactiveVar(this.data.availableColumns);\n});\nTemplate.dynamicTableManageFieldsModal.onRendered(function onRendered() {\n  Tracker.autorun(() => {\n    if (this.editing.get()) {\n      Tracker.afterFlush(() => {\n        if ($.fn.select2) {\n          this.$(\".dynamic-table-manage-fields-edit-group\").select2({\n            tags: true,\n            placeholder: \"Select a Group\",\n            allowClear: true,\n            data: _.union([{\n              id: \"\",\n              value: \"\"\n            }], _.compact(_.unique(_.pluck(this.data.availableColumns, \"group\"))).map(g => ({\n              id: g,\n              text: g\n            })))\n          });\n          this.$(\".dynamic-table-manage-fields-edit-group\").val(this.editing.get().groupName).trigger(\"change\");\n        }\n      });\n    }\n  });\n});\nTemplate.dynamicTableManageFieldsModal.events({\n  \"keydown input.search\"(e, templInstance) {\n    templInstance.search.set($(e.currentTarget).val());\n  },\n\n  \"keyup input.search\"(e, templInstance) {\n    templInstance.search.set($(e.currentTarget).val());\n  },\n\n  \"blur input.search\"(e, templInstance) {\n    templInstance.search.set($(e.currentTarget).val());\n  },\n\n  \"click .add-column\"(e, templInstance) {\n    templInstance.editing.set(true);\n  },\n\n  \"click li>.fa-pencil\"(e, templInstance) {\n    e.preventDefault();\n    e.stopPropagation();\n    const colId = $(e.currentTarget).parent().attr(\"data-id\");\n    const colData = $(e.currentTarget).parent().attr(\"data-data\");\n    const column = templInstance.data.availableColumns.find(col => {\n      if (colId) {\n        return colId === col.id;\n      }\n\n      return colData === col.data;\n    });\n    templInstance.editing.set(true);\n    const spec = column.manageFieldsModal && column.manageFieldsModal.field.edit.spec || column.filterModal && column.filterModal.field.edit.spec;\n    templInstance.editableField.set(spec);\n  },\n\n  \"click li\"(e, templInstance) {\n    const colId = $(e.currentTarget).attr(\"data-id\");\n    const colData = $(e.currentTarget).attr(\"data-data\");\n    const selected = $(e.currentTarget).find(\"i.fa-toggle-on\").length;\n    const column = templInstance.data.availableColumns.find(col => {\n      if (colId) {\n        return colId === col.id;\n      }\n\n      return colData === col.data;\n    });\n\n    if (column.required) {\n      return;\n    }\n\n    templInstance.data.changeCallback(column, !selected);\n  },\n\n  \"click .dynamic-table-manage-fields-group-header\"(e, templInstance) {\n    $(e.currentTarget).siblings(\"ul\").toggleClass(\"display-table-manage-fields-group-hidden\");\n  },\n\n  \"click .btn-dynamic-table-cancel\"(e, templInstance) {\n    templInstance.editing.set(false);\n  },\n\n  \"click .btn-dynamic-table-save\"(e, templInstance) {\n    templInstance.$(\".btn-dynamic-table-save\").attr(\"disabled\", \"disabled\");\n    const isEdit = templInstance.editableField.get();\n\n    if (isEdit) {\n      templInstance.editableField.set(null);\n    }\n\n    templInstance.data.edit.callback(e, templInstance, isEdit).then(newColumnSpec => {\n      templInstance.$(\".btn-dynamic-table-save\").removeAttr(\"disabled\");\n      templInstance.editing.set(false);\n      let prevColumnSpec;\n\n      if (isEdit) {\n        const columns = templInstance.availableColumns.get();\n        const realColumn = columns.find(c => c.data === newColumnSpec.data);\n        const index = columns.indexOf(realColumn);\n        prevColumnSpec = columns.splice(index, 1, newColumnSpec);\n      } else {\n        templInstance.availableColumns.get().push(newColumnSpec);\n      }\n\n      templInstance.availableColumns.dep.changed();\n\n      if (isEdit) {\n        templInstance.data.edit.editedCallback(newColumnSpec, prevColumnSpec[0]);\n      } else {\n        templInstance.data.edit.addedCallback(newColumnSpec);\n      }\n    }).catch(err => {\n      console.error(err);\n    });\n  }\n\n});\nTemplate.dynamicTableManageFieldsModal.helpers({\n  editableField() {\n    return Template.instance().editableField.get();\n  },\n\n  fieldType() {\n    const editing = Template.instance().editing.get();\n\n    if (!editing || !editing.filterModal || !editing.filterModal.field || !editing.filterModal.field.type) {\n      return \"string\";\n    }\n\n    let fieldType = editing.filterModal.field.type;\n\n    if (fieldType && fieldType && _.isArray(fieldType)) {\n      fieldType = fieldType[0];\n    }\n\n    return fieldType;\n  },\n\n  isArray() {\n    const editing = Template.instance().editing.get();\n\n    if (!editing || !editing.filterModal || !editing.filterModal.field || !editing.filterModal.field.type) {\n      return false;\n    }\n\n    const fieldType = editing.filterModal.field.type;\n\n    if (fieldType && fieldType && _.isArray(fieldType)) {\n      return true;\n    }\n\n    return false;\n  },\n\n  editing() {\n    return Template.instance().editing.get();\n  },\n\n  manageFieldsEditContext() {\n    return Template.instance().data.edit;\n  },\n\n  search() {\n    if (Template.instance().data.search !== undefined) {\n      return Template.instance().data.search;\n    }\n\n    return Template.instance().availableColumns.get().length >= 15;\n  },\n\n  add() {\n    return Template.instance().data.edit;\n  },\n\n  title(column) {\n    return column.manageFieldsTitle || column.title;\n  },\n\n  header() {\n    let search = false;\n\n    if (Template.instance().data.search !== undefined) {\n      search = Template.instance().data.search;\n    }\n\n    search = Template.instance().availableColumns.get().length >= 15;\n    return search || Template.instance().data.edit;\n  },\n\n  required(column) {\n    return column.required;\n  },\n\n  selected(column) {\n    const templInstance = Template.instance();\n    return _.find(templInstance.data.selectedColumns, selectedColumn => selectedColumn.id && selectedColumn.id === column.id || selectedColumn.data === column.data);\n  },\n\n  groups() {\n    let availableColumns = Template.instance().availableColumns.get();\n    const search = Template.instance().search.get();\n\n    if (search) {\n      availableColumns = availableColumns.filter(column => {\n        const title = column.manageFieldsTitle || column.title;\n        return title.match(new RegExp(search, \"i\"));\n      });\n    }\n\n    const groups = _.groupBy(availableColumns, \"group\");\n\n    delete groups[undefined];\n    return _.sortBy(_.map(groups, (columns, title) => ({\n      title,\n      columns: _.sortBy(columns, field => field.label || field.manageGroupFieldsTitle || field.manageFieldsTitle || field.title)\n    })), \"title\");\n  },\n\n  ungroupedColumns() {\n    let availableColumns = Template.instance().availableColumns.get();\n    const search = Template.instance().search.get();\n\n    if (search) {\n      availableColumns = availableColumns.filter(column => {\n        const title = column.manageFieldsTitle || column.title;\n        return title.match(new RegExp(search, \"i\"));\n      });\n    }\n\n    const groups = _.groupBy(availableColumns, \"group\");\n\n    return _.sortBy(groups.undefined || [], field => field.label || field.manageGroupFieldsTitle || field.manageFieldsTitle || field.title);\n  },\n\n  editable(column) {\n    const editable = column && column.manageFieldsModal && column.manageFieldsModal.field && column.manageFieldsModal.field.edit || column && column.filterModal && column.filterModal.field && column.filterModal.field.edit;\n    return editable;\n  },\n\n  availableColumns() {\n    const availableColumns = Template.instance().availableColumns.get();\n    const search = Template.instance().search.get();\n\n    if (search) {\n      return availableColumns.filter(column => {\n        const title = column.manageFieldsTitle || column.title;\n        return title.match(new RegExp(search, \"i\"));\n      });\n    }\n\n    return availableColumns;\n  }\n\n});","map":{"version":3,"sources":["packages/znewsham:dynamic-table/client/ui/components/manageFieldsModal/manageFieldsModal.js"],"names":["module","link","Template","dynamicTableManageFieldsModal","onCreated","search","ReactiveVar","editing","editableField","availableColumns","data","onRendered","Tracker","autorun","get","afterFlush","$","fn","select2","tags","placeholder","allowClear","_","union","id","value","compact","unique","pluck","map","g","text","val","groupName","trigger","events","e","templInstance","set","currentTarget","preventDefault","stopPropagation","colId","parent","attr","colData","column","find","col","spec","manageFieldsModal","field","edit","filterModal","selected","length","required","changeCallback","siblings","toggleClass","isEdit","callback","then","newColumnSpec","removeAttr","prevColumnSpec","columns","realColumn","c","index","indexOf","splice","push","dep","changed","editedCallback","addedCallback","catch","err","console","error","helpers","instance","fieldType","type","isArray","manageFieldsEditContext","undefined","add","title","manageFieldsTitle","header","selectedColumns","selectedColumn","groups","filter","match","RegExp","groupBy","sortBy","label","manageGroupFieldsTitle","ungroupedColumns","editable"],"mappings":"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","sourcesContent":["import \"./manageFieldsModal.css\";\nimport \"./manageFieldsModal.html\";\nimport \"../manageColumnsForm/manageColumnsForm.js\";\n\nTemplate.dynamicTableManageFieldsModal.onCreated(function onCreated() {\n  this.search = new ReactiveVar();\n  this.editing = new ReactiveVar(false);\n  this.editableField = new ReactiveVar(null);\n  this.availableColumns = new ReactiveVar(this.data.availableColumns);\n});\nTemplate.dynamicTableManageFieldsModal.onRendered(function onRendered() {\n  Tracker.autorun(() => {\n    if (this.editing.get()) {\n      Tracker.afterFlush(() => {\n        if ($.fn.select2) {\n          this.$(\".dynamic-table-manage-fields-edit-group\").select2({\n            tags: true,\n            placeholder: \"Select a Group\",\n            allowClear: true,\n            data: _.union(\n              [{ id: \"\", value: \"\" }],\n              _.compact(_.unique(_.pluck(this.data.availableColumns, \"group\"))).map(g => ({ id: g, text: g }))\n            )\n          });\n          this.$(\".dynamic-table-manage-fields-edit-group\").val(this.editing.get().groupName).trigger(\"change\");\n        }\n      });\n    }\n  });\n});\n\nTemplate.dynamicTableManageFieldsModal.events({\n  \"keydown input.search\"(e, templInstance) {\n    templInstance.search.set($(e.currentTarget).val());\n  },\n  \"keyup input.search\"(e, templInstance) {\n    templInstance.search.set($(e.currentTarget).val());\n  },\n  \"blur input.search\"(e, templInstance) {\n    templInstance.search.set($(e.currentTarget).val());\n  },\n  \"click .add-column\"(e, templInstance) {\n    templInstance.editing.set(true);\n  },\n  \"click li>.fa-pencil\"(e, templInstance) {\n    e.preventDefault();\n    e.stopPropagation();\n    const colId = $(e.currentTarget).parent().attr(\"data-id\");\n    const colData = $(e.currentTarget).parent().attr(\"data-data\");\n    const column = templInstance.data.availableColumns.find((col) => {\n      if (colId) {\n        return colId === col.id;\n      }\n      return colData === col.data;\n    });\n    templInstance.editing.set(true);\n    const spec = (column.manageFieldsModal && column.manageFieldsModal.field.edit.spec) ||\n                (column.filterModal && column.filterModal.field.edit.spec);\n    templInstance.editableField.set(spec);\n  },\n  \"click li\"(e, templInstance) {\n    const colId = $(e.currentTarget).attr(\"data-id\");\n    const colData = $(e.currentTarget).attr(\"data-data\");\n    const selected = $(e.currentTarget).find(\"i.fa-toggle-on\").length;\n    const column = templInstance.data.availableColumns.find((col) => {\n      if (colId) {\n        return colId === col.id;\n      }\n      return colData === col.data;\n    });\n    if (column.required) {\n      return;\n    }\n    templInstance.data.changeCallback(column, !selected);\n  },\n  \"click .dynamic-table-manage-fields-group-header\"(e, templInstance) {\n    $(e.currentTarget).siblings(\"ul\").toggleClass(\"display-table-manage-fields-group-hidden\");\n  },\n  \"click .btn-dynamic-table-cancel\"(e, templInstance) {\n    templInstance.editing.set(false);\n  },\n  \"click .btn-dynamic-table-save\"(e, templInstance) {\n    templInstance.$(\".btn-dynamic-table-save\").attr(\"disabled\", \"disabled\");\n    const isEdit = templInstance.editableField.get();\n    if (isEdit) {\n      templInstance.editableField.set(null);\n    }\n    templInstance.data.edit.callback(e, templInstance, isEdit)\n    .then((newColumnSpec) => {\n      templInstance.$(\".btn-dynamic-table-save\").removeAttr(\"disabled\");\n      templInstance.editing.set(false);\n      let prevColumnSpec;\n      if (isEdit) {\n        const columns = templInstance.availableColumns.get();\n        const realColumn = columns.find(c => c.data === newColumnSpec.data);\n        const index = columns.indexOf(realColumn);\n        prevColumnSpec = columns.splice(index, 1, newColumnSpec);\n      }\n      else {\n        templInstance.availableColumns.get().push(newColumnSpec);\n      }\n      templInstance.availableColumns.dep.changed();\n      if (isEdit) {\n        templInstance.data.edit.editedCallback(newColumnSpec, prevColumnSpec[0]);\n      }\n      else {\n        templInstance.data.edit.addedCallback(newColumnSpec);\n      }\n    })\n    .catch((err) => {\n      console.error(err);\n    });\n  }\n});\nTemplate.dynamicTableManageFieldsModal.helpers({\n  editableField() {\n    return Template.instance().editableField.get();\n  },\n  fieldType() {\n    const editing = Template.instance().editing.get();\n    if (!editing || !editing.filterModal || !editing.filterModal.field || !editing.filterModal.field.type) {\n      return \"string\";\n    }\n    let fieldType = editing.filterModal.field.type;\n    if (fieldType && fieldType && _.isArray(fieldType)) {\n      fieldType = fieldType[0];\n    }\n    return fieldType;\n  },\n  isArray() {\n    const editing = Template.instance().editing.get();\n    if (!editing || !editing.filterModal || !editing.filterModal.field || !editing.filterModal.field.type) {\n      return false;\n    }\n    const fieldType = editing.filterModal.field.type;\n    if (fieldType && fieldType && _.isArray(fieldType)) {\n      return true;\n    }\n    return false;\n  },\n  editing() {\n    return Template.instance().editing.get();\n  },\n  manageFieldsEditContext() {\n    return Template.instance().data.edit;\n  },\n  search() {\n    if (Template.instance().data.search !== undefined) {\n      return Template.instance().data.search;\n    }\n    return Template.instance().availableColumns.get().length >= 15;\n  },\n  add() {\n    return Template.instance().data.edit;\n  },\n  title(column) {\n    return column.manageFieldsTitle || column.title;\n  },\n  header() {\n    let search = false;\n    if (Template.instance().data.search !== undefined) {\n      search = Template.instance().data.search;\n    }\n    search = Template.instance().availableColumns.get().length >= 15;\n    return search || Template.instance().data.edit;\n  },\n  required(column) {\n    return column.required;\n  },\n  selected(column) {\n    const templInstance = Template.instance();\n    return _.find(templInstance.data.selectedColumns, selectedColumn => (selectedColumn.id && selectedColumn.id === column.id) || selectedColumn.data === column.data);\n  },\n  groups() {\n    let availableColumns = Template.instance().availableColumns.get();\n    const search = Template.instance().search.get();\n    if (search) {\n      availableColumns = availableColumns.filter((column) => {\n        const title = column.manageFieldsTitle || column.title;\n        return title.match(new RegExp(search, \"i\"));\n      });\n    }\n    const groups = _.groupBy(availableColumns, \"group\");\n    delete groups[undefined];\n    return _.sortBy(_.map(groups, (columns, title) => ({\n      title,\n      columns: _.sortBy(columns, field => field.label || field.manageGroupFieldsTitle || field.manageFieldsTitle || field.title)\n    })), \"title\");\n  },\n  ungroupedColumns() {\n    let availableColumns = Template.instance().availableColumns.get();\n    const search = Template.instance().search.get();\n    if (search) {\n      availableColumns = availableColumns.filter((column) => {\n        const title = column.manageFieldsTitle || column.title;\n        return title.match(new RegExp(search, \"i\"));\n      });\n    }\n    const groups = _.groupBy(availableColumns, \"group\");\n    return _.sortBy(groups.undefined || [], field => field.label || field.manageGroupFieldsTitle || field.manageFieldsTitle || field.title);\n  },\n  editable(column) {\n    const editable = (column && column.manageFieldsModal && column.manageFieldsModal.field && column.manageFieldsModal.field.edit) ||\n                  (column && column.filterModal && column.filterModal.field && column.filterModal.field.edit);\n    return editable;\n  },\n  availableColumns() {\n    const availableColumns = Template.instance().availableColumns.get();\n    const search = Template.instance().search.get();\n    if (search) {\n      return availableColumns.filter((column) => {\n        const title = column.manageFieldsTitle || column.title;\n        return title.match(new RegExp(search, \"i\"));\n      });\n    }\n    return availableColumns;\n  }\n});\n"]},"sourceType":"script","hash":"c06c931b933b2f7dfcdd2e45185ac73960857f9c"}
